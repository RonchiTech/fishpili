[{"E:\\WebDevs\\fishpili\\src\\index.js":"1","E:\\WebDevs\\fishpili\\src\\reportWebVitals.js":"2","E:\\WebDevs\\fishpili\\src\\App.js":"3","E:\\WebDevs\\fishpili\\src\\components\\Navigation\\Navigation.jsx":"4","E:\\WebDevs\\fishpili\\src\\components\\Shop\\Shop.jsx":"5","E:\\WebDevs\\fishpili\\src\\components\\UI\\Card\\Card.jsx":"6","E:\\WebDevs\\fishpili\\src\\components\\UI\\Cards\\Cards.jsx":"7","E:\\WebDevs\\fishpili\\src\\components\\Product\\Product.jsx":"8","E:\\WebDevs\\fishpili\\src\\components\\Main\\Main.jsx":"9","E:\\WebDevs\\fishpili\\src\\components\\Supplier\\Supplier.jsx":"10","E:\\WebDevs\\fishpili\\src\\components\\Supplier\\MenuContainer\\Menu\\Menu.jsx":"11","E:\\WebDevs\\fishpili\\src\\components\\Supplier\\MenuContainer\\Profile\\Profile.jsx":"12","E:\\WebDevs\\fishpili\\src\\components\\Auth\\Login.jsx":"13","E:\\WebDevs\\fishpili\\src\\redux\\reducers\\authReducers.jsx":"14","E:\\WebDevs\\fishpili\\src\\redux\\actions\\index.jsx":"15","E:\\WebDevs\\fishpili\\src\\redux\\actions\\authActions.jsx":"16","E:\\WebDevs\\fishpili\\src\\redux\\actions\\actionTypes.jsx":"17","E:\\WebDevs\\fishpili\\src\\firebase.js":"18"},{"size":907,"mtime":1613232408075,"results":"19","hashOfConfig":"20"},{"size":362,"mtime":499162500000,"results":"21","hashOfConfig":"20"},{"size":849,"mtime":1613235948932,"results":"22","hashOfConfig":"20"},{"size":1126,"mtime":1613053443973,"results":"23","hashOfConfig":"20"},{"size":289,"mtime":1612630247308,"results":"24","hashOfConfig":"20"},{"size":612,"mtime":1612630247363,"results":"25","hashOfConfig":"20"},{"size":1135,"mtime":1612630247395,"results":"26","hashOfConfig":"20"},{"size":283,"mtime":1612630247302,"results":"27","hashOfConfig":"20"},{"size":2510,"mtime":1613235930391,"results":"28","hashOfConfig":"20"},{"size":705,"mtime":1613234230511,"results":"29","hashOfConfig":"20"},{"size":715,"mtime":1612630247317,"results":"30","hashOfConfig":"20"},{"size":1331,"mtime":1613233045603,"results":"31","hashOfConfig":"20"},{"size":5043,"mtime":1613234159941,"results":"32","hashOfConfig":"20"},{"size":853,"mtime":1613227429809,"results":"33","hashOfConfig":"20"},{"size":104,"mtime":1613059898839,"results":"34","hashOfConfig":"20"},{"size":816,"mtime":1613059877443,"results":"35","hashOfConfig":"20"},{"size":251,"mtime":1613059804036,"results":"36","hashOfConfig":"20"},{"size":0,"mtime":1613232562939,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"nb8fa7",{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"42"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"E:\\WebDevs\\fishpili\\src\\index.js",[],"E:\\WebDevs\\fishpili\\src\\reportWebVitals.js",[],["76","77"],"E:\\WebDevs\\fishpili\\src\\App.js",[],"E:\\WebDevs\\fishpili\\src\\components\\Navigation\\Navigation.jsx",[],"E:\\WebDevs\\fishpili\\src\\components\\Shop\\Shop.jsx",[],"E:\\WebDevs\\fishpili\\src\\components\\UI\\Card\\Card.jsx",[],"E:\\WebDevs\\fishpili\\src\\components\\UI\\Cards\\Cards.jsx",[],"E:\\WebDevs\\fishpili\\src\\components\\Product\\Product.jsx",[],"E:\\WebDevs\\fishpili\\src\\components\\Main\\Main.jsx",[],"E:\\WebDevs\\fishpili\\src\\components\\Supplier\\Supplier.jsx",[],"E:\\WebDevs\\fishpili\\src\\components\\Supplier\\MenuContainer\\Menu\\Menu.jsx",[],"E:\\WebDevs\\fishpili\\src\\components\\Supplier\\MenuContainer\\Profile\\Profile.jsx",[],"E:\\WebDevs\\fishpili\\src\\components\\Auth\\Login.jsx",["78","79"],"import React, { useCallback } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n// Firebase App (the core Firebase SDK) is always required and must be listed first\r\nimport firebase from 'firebase/app';\r\n// If you are using v7 or any earlier version of the JS SDK, you should import firebase using namespace import\r\n// import * as firebase from \"firebase/app\"\r\n\r\n// If you enabled Analytics in your project, add the Firebase SDK for Analytics\r\nimport 'firebase/analytics';\r\n\r\n// Add the Firebase products that you want to use\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport './Login.css';\r\n\r\nimport { connect } from 'react-redux';\r\nimport * as action from '../../redux/actions/index';\r\n\r\nimport axios from 'axios';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: 'AIzaSyAL7xMki5C3hK7gOE_QIbBm3eguWLQD3Hg',\r\n  authDomain: 'fishpili.firebaseapp.com',\r\n  projectId: 'fishpili',\r\n  storageBucket: 'fishpili.appspot.com',\r\n  messagingSenderId: '910886698206',\r\n  appId: '1:910886698206:web:bce424a9625f98727bd64f',\r\n  measurementId: 'G-2ZVJ06MR6R',\r\n};\r\n\r\nconst Login = ({ usrname, onauthInit, onLogOut, usrRole, usrID }) => {\r\n  const history = useHistory();\r\n  const signInWithGoogle = useCallback(() => {\r\n    var provider = new firebase.auth.GoogleAuthProvider();\r\n    firebase\r\n      .auth()\r\n      .signInWithPopup(provider)\r\n      .then((result) => {\r\n        /** @type {firebase.auth.OAuthCredential} */\r\n        // var credential = result.credential;\r\n\r\n        // This gives you a Google Access Token. You can use it to access the Google API.\r\n        // var token = credential.accessToken;\r\n        // The signed-in user info.\r\n        var user = result.user;\r\n        console.log(user);\r\n        // ...\r\n\r\n        localStorage.setItem('username', user.displayName);\r\n        localStorage.setItem('uid', user.uid);\r\n        onauthInit();\r\n        // onAuth(data);\r\n        history.push('/');\r\n\r\n      })\r\n      .catch((error) => {\r\n        // Handle Errors here.\r\n        // var errorCode = error.code;\r\n        // var errorMessage = error.message;\r\n        // The email of the user's account used.\r\n        // var email = error.email;\r\n        // The firebase.auth.AuthCredential type that was used.\r\n        // var credential = error.credential;\r\n        // ...\r\n        // const errors = {\r\n        //   errorCode,\r\n        //   errorMessage,\r\n        //   errorEmail: email,\r\n        //   errorCredential: credential,\r\n        // };\r\n      });\r\n  }, [onauthInit]);\r\n\r\n  firebase.auth().onAuthStateChanged((user) => {\r\n    if (user) {\r\n      // const data = {\r\n      //   displayName: user.displayName,\r\n      //   imgUrl: user.photoURL,\r\n      //   uid: user.uid,\r\n      // };\r\n      // axios.post(`https://fishpili-default-rtdb.firebaseio.com/users/${user.uid}.json`, data)\r\n      // .then(response => {\r\n      //   console.log(response);\r\n      // })\r\n      // .catch(error => {\r\n      //   console.log(error);\r\n      // });\r\n    } else {\r\n    }\r\n  });\r\n  const logout = () => {\r\n    firebase\r\n      .auth()\r\n      .signOut()\r\n      .then(() => {\r\n        // Sign-out successful.\r\n        localStorage.clear();\r\n        onLogOut();\r\n      })\r\n      .catch((error) => {\r\n        // An error happened.\r\n      });\r\n  };\r\n  // if(usrname){\r\n  //      axios\r\n  //        .get(\r\n  //          `https://fishpili-default-rtdb.firebaseio.com/users/${usrID}/${usrname}.json`\r\n  //        )\r\n  //        .then((response) => {\r\n  //          console.log(response);\r\n  //          if (response.data === null) {\r\n  //            axios\r\n  //              .post(\r\n  //                `https://fishpili-default-rtdb.firebaseio.com/users/${usrID}/${usrname}.json`,\r\n  //                {\r\n  //                  usrRole: 'isVendor',\r\n  //                }\r\n  //              )\r\n  //              .then((res) => {\r\n  //                console.log(res);\r\n  //              })\r\n  //              .catch((err) => {\r\n  //                console.err(err);\r\n  //              });\r\n  //          }\r\n  //        })\r\n  //        .catch((error) => {\r\n  //          console.log(error);\r\n  //        });\r\n  // }\r\n  let display = usrname ? (\r\n    <>\r\n      <h2>\r\n        {usrname}\r\n        <span style={{fontSize:'.9rem',color: 'red'}}>  {usrRole}</span>\r\n      </h2>\r\n      <button onClick={logout}>Log out</button>\r\n    </>\r\n  ) : (\r\n    <div style={{ width: '20%', margin: '20vh auto' }}>\r\n      <h2 className=\"login_message\">Hi, please log in</h2>\r\n      <button className=\"google btn\" onClick={signInWithGoogle}>\r\n        Login with Google\r\n      </button>\r\n    </div>\r\n  );\r\n\r\n  return display;\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onauthInit: () => dispatch(action.authInit()),\r\n    onLogOut: () => dispatch(action.authLogout()),\r\n  };\r\n};\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    usrname: state.username,\r\n    usrID: state.userID,\r\n    usrRole: state.userRole,\r\n  };\r\n};\r\nexport default React.memo(connect(mapStateToProps, mapDispatchToProps)(Login));\r\nfirebase.initializeApp(firebaseConfig);\r\n","E:\\WebDevs\\fishpili\\src\\redux\\reducers\\authReducers.jsx",[],"E:\\WebDevs\\fishpili\\src\\redux\\actions\\index.jsx",[],"E:\\WebDevs\\fishpili\\src\\redux\\actions\\authActions.jsx",[],"E:\\WebDevs\\fishpili\\src\\redux\\actions\\actionTypes.jsx",[],"E:\\WebDevs\\fishpili\\src\\firebase.js",[],{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","replacedBy":"83"},{"ruleId":"84","severity":1,"message":"85","line":19,"column":8,"nodeType":"86","messageId":"87","endLine":19,"endColumn":13},{"ruleId":"88","severity":1,"message":"89","line":72,"column":6,"nodeType":"90","endLine":72,"endColumn":18,"suggestions":"91"},"no-native-reassign",["92"],"no-negated-in-lhs",["93"],"no-unused-vars","'axios' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useCallback has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["94"],"no-global-assign","no-unsafe-negation",{"desc":"95","fix":"96"},"Update the dependencies array to be: [history, onauthInit]",{"range":"97","text":"98"},[2478,2490],"[history, onauthInit]"]